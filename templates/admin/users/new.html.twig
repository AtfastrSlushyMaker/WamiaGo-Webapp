{% extends 'admin/users/_modal.html.twig' %}

{% block modal_id %}add-user-modal{% endblock %}
{% block modal_title %}
    <i class="fas fa-user-plus mr-2 text-success"></i>Add New User
{% endblock %}

{% block modal_body %}
    <div class="text-center mb-4">
        <div class="avatar-container position-relative d-inline-block">
            <img src="/images/default-avatar.png" alt="Default Avatar" class="rounded-circle" style="width: 100px; height: 100px; border: 3px solid #2dce89;">
            <div class="position-absolute" style="bottom: 0; right: 0; background: #2dce89; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-camera text-white"></i>
            </div>
        </div>
        <p class="text-muted mt-2 small">User avatar will be set to default</p>
    </div>
    
    {{ form_start(form, {'attr': {'id': 'add-user-form', 'novalidate': 'novalidate'}}) }}
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                {{ form_label(form.name, null, {'label_attr': {'class': 'form-label'}}) }}
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fas fa-user"></i></span>
                    </div>
                    {{ form_widget(form.name, {'attr': {'class': 'form-control', 'id': 'add-name'}}) }}
                </div>
                {{ form_errors(form.name) }}
            </div>
            
            <div class="form-group">
                {{ form_label(form.email, null, {'label_attr': {'class': 'form-label'}}) }}
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                    </div>
                    {{ form_widget(form.email, {'attr': {'class': 'form-control', 'id': 'add-email'}}) }}
                </div>
                {{ form_errors(form.email) }}
            </div>
            
            <div class="form-group">
                {{ form_label(form.phone_number, null, {'label_attr': {'class': 'form-label'}}) }}
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fas fa-phone"></i></span>
                    </div>
                    {{ form_widget(form.phone_number, {'attr': {'class': 'form-control', 'id': 'add-phone'}}) }}
                </div>
                {{ form_errors(form.phone_number) }}
            </div>
            
            <div class="form-group">
                {{ form_label(form.password.first, null, {'label_attr': {'class': 'form-label'}}) }}
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fas fa-lock"></i></span>
                    </div>
                    {{ form_widget(form.password.first, {'attr': {'class': 'form-control', 'id': 'add-password'}}) }}
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary toggle-password" type="button">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="progress password-strength-meter mt-2" style="height: 5px; display: none;">
                    <div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small class="password-strength-text form-text text-muted"></small>
                {{ form_errors(form.password.first) }}
            </div>
            
            <div class="form-group">
                {{ form_label(form.password.second, null, {'label_attr': {'class': 'form-label'}}) }}
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fas fa-lock"></i></span>
                    </div>
                    {{ form_widget(form.password.second, {'attr': {'class': 'form-control', 'id': 'confirm-password'}}) }}
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary toggle-password" type="button">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                {{ form_errors(form.password.second) }}
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="form-group">
                {{ form_label(form.role, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.role, {'attr': {'class': 'form-control', 'id': 'add-role'}}) }}
                {{ form_errors(form.role) }}
            </div>
            
            <div class="form-group">
                {{ form_label(form.account_status, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.account_status, {'attr': {'class': 'form-control', 'id': 'add-account-status'}}) }}
                {{ form_errors(form.account_status) }}
            </div>
            
            <div class="form-group">
                {{ form_label(form.gender, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.gender, {'attr': {'class': 'form-control', 'id': 'add-gender'}}) }}
                {{ form_errors(form.gender) }}
            </div>
            
            <div class="form-group">
                <label class="d-block">Account Verification</label>
                <div class="custom-control custom-switch">
                    {{ form_widget(form.isVerified, {'attr': {'class': 'custom-control-input', 'id': 'add-is-verified'}}) }}
                    <label class="custom-control-label" for="add-is-verified">
                        Mark as Verified Account
                    </label>
                </div>
                {{ form_errors(form.isVerified) }}
            </div>
        </div>
    </div>
    {{ form_end(form) }}
{% endblock %}

{% block modal_footer %}
    <button type="button" class="btn btn-rounded btn-secondary" id="add-cancel-btn">
        <i class="fas fa-times mr-1"></i> Cancel
    </button>
    <button type="button" class="btn btn-rounded btn-success" id="create-user-btn">
        <i class="fas fa-user-plus mr-1"></i> Create User
    </button>
{% endblock %}
