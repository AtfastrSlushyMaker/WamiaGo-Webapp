
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AdminLTE v4 | Dashboard{% endblock %}</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
    
    {% block stylesheets %}
        <!-- Fonts -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css" 
              integrity="sha256-tXJfXfp6Ewt1ilPzLDtQnJV4hclT9XuaZUKyUvmyr+Q=" crossorigin="anonymous">
        
        <!-- OverlayScrollbars -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/styles/overlayscrollbars.min.css" 
              integrity="sha256-tZHrRjVqNSRyWg2wbppGnT833E/Ys0DHWGwT04GiqQg=" crossorigin="anonymous">
        
        <!-- Bootstrap Icons -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" 
              integrity="sha256-9kPW/n5nn53j4WMRYAxe9c1rCY96Oogo/MKSVdKzPmI=" crossorigin="anonymous">
        
        <!-- Charts CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.css" 
              integrity="sha256-4MX+61mt9NVvvuPjUWdUdyfZfxSB1/Rf9WtqRHgG5S0=" crossorigin="anonymous">
        
        <!-- Vector Maps -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/css/jsvectormap.min.css" 
              integrity="sha256-+uGLJmmTKOqBr+2E6KDYs/NRsHxSkONXFHUL0fy2O/4=" crossorigin="anonymous">
        
        <!-- AdminLTE CSS -->
        <link rel="stylesheet" href="{{ asset('adminlte/css/adminlte.min.css') }}">

        <style>
        /* CSS Personnalisé pour la navbar */
        .navbar-nav .nav-link {
            padding: 0.5rem 1rem;
            font-weight: 500;
            transition: all 0.3s;
        }

        .navbar-nav .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .navbar-nav .nav-item.dropdown:hover .dropdown-menu {
            display: block;
        }

        .dropdown-menu {
            border: none;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }

        .user-header {
            padding: 10px;
            text-align: center;
            background: linear-gradient(135deg, #3c8dbc 0%, #367fa9 100%);
        }

        .user-image {
            width: 45px;
            height: 45px;
            object-fit: cover;
        }

        .nav-icon {
            margin-right: 8px;
            font-size: 1.1rem;
        }

        /* Style pour le menu actif */
        .nav-item.active .nav-link {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }
    </style>
    {% endblock %}

    {% block javascripts_head %}{% endblock %}
</head>
<body class="layout-fixed sidebar-expand-lg bg-body-tertiary">
    {% block body %}{% endblock %}

    {% block javascripts %}
        <!-- Core JS -->
        <script src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/browser/overlayscrollbars.browser.es6.min.js" 
                integrity="sha256-dghWARbRe2eLlIJ56wNB+b760ywulqK3DzZYEpsg2fQ=" 
                crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
                integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" 
                crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" 
                integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" 
                crossorigin="anonymous"></script>
        
        <!-- AdminLTE JS -->
        <script src="{{ asset('adminlte/js/adminlte.min.js') }}"></script>
        
        <!-- Charts JS -->
        <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.min.js" 
                integrity="sha256-+vh8GkaU7C9/wbSLIcwq82tQ2wTf44aOHA8HlBMwRI8=" 
                crossorigin="anonymous"></script>
        
        <!-- Vector Maps JS -->
        <script src="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/js/jsvectormap.min.js" 
                integrity="sha256-/t1nN2956BT869E6H4V1dnt0X5pAQHPytli+1nTZm2Y=" 
                crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/maps/world.js" 
                integrity="sha256-XPpPaZlU8S/HWf7FZLAncLg2SAkP8ScUTII89x9D3lY=" 
                crossorigin="anonymous"></script>
        
        <!-- Scripts d'initialisation -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Configuration OverlayScrollbars
                const sidebarWrapper = document.querySelector('.sidebar-wrapper');
                if (sidebarWrapper && typeof OverlayScrollbarsGlobal?.OverlayScrollbars !== 'undefined') {
                    OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
                        scrollbars: {
                            theme: 'os-theme-light',
                            autoHide: 'leave',
                            clickScroll: true,
                        },
                    });
                }
                
                // Initialisation SortableJS
                const connectedSortables = document.querySelectorAll('.connectedSortable');
                connectedSortables.forEach((connectedSortable) => {
                    new Sortable(connectedSortable, {
                        group: 'shared',
                        handle: '.card-header',
                    });
                });
                
                // Configuration des graphiques
                if (typeof ApexCharts !== 'undefined' && document.querySelector('#revenue-chart')) {
                    const salesChart = new ApexCharts(
                        document.querySelector('#revenue-chart'),
                        {
                            series: [{
                                name: 'Digital Goods',
                                data: [28, 48, 40, 19, 86, 27, 90]
                            }, {
                                name: 'Electronics',
                                data: [65, 59, 80, 81, 56, 55, 40]
                            }],
                            chart: {
                                height: 300,
                                type: 'area',
                                toolbar: { show: false }
                            },
                            colors: ['#0d6efd', '#20c997'],
                            dataLabels: { enabled: false },
                            stroke: { curve: 'smooth' },
                            xaxis: {
                                type: 'datetime',
                                categories: [
                                    '2023-01-01', '2023-02-01', '2023-03-01',
                                    '2023-04-01', '2023-05-01', '2023-06-01', '2023-07-01'
                                ]
                            },
                            tooltip: {
                                x: { format: 'MMMM yyyy' }
                            }
                        }
                    );
                    salesChart.render();
                }
                
                // Configuration de la carte vectorielle
                if (typeof jsVectorMap !== 'undefined' && document.querySelector('#world-map')) {
                    new jsVectorMap({
                        selector: '#world-map',
                        map: 'world'
                    });
                }
            });
        </script>
    {% endblock %}
</body>
</html>