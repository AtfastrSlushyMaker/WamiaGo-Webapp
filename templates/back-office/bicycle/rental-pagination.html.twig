{# This is a custom pagination template for rental tab #}
{% if pageCount > 1 %}
<ul class="pagination pagination-modern justify-content-center mb-0">
    {# Previous page link #}
    {% if first is defined and current != first %}
        <li class="page-item">
            <a class="page-link" href="{{ path('admin_bicycle_rentals', {'tab': 'rentals', 'page': first, 'perPage': app.request.query.get('perPage')}) }}" aria-label="First">
                <i class="ti ti-chevrons-left"></i>
            </a>
        </li>
    {% endif %}

    {% if previous is defined %}
        <li class="page-item">
            <a class="page-link" href="{{ path('admin_bicycle_rentals', {'tab': 'rentals', 'page': previous, 'perPage': app.request.query.get('perPage')}) }}" aria-label="Previous">
                <i class="ti ti-chevron-left"></i>
            </a>
        </li>
    {% else %}
        <li class="page-item disabled">
            <span class="page-link"><i class="ti ti-chevron-left"></i></span>
        </li>
    {% endif %}

    {# Pagination numbers #}
    {% set startPage = max(1, current - 2) %}
    {% set endPage = min(pageCount, startPage + 4) %}

    {% if startPage > 1 %}
        <li class="page-item">
            <a class="page-link" href="{{ path('admin_bicycle_rentals', {'tab': 'rentals', 'page': 1, 'perPage': app.request.query.get('perPage')}) }}">1</a>
        </li>
        {% if startPage > 2 %}
            <li class="page-item disabled">
                <span class="page-link">...</span>
            </li>
        {% endif %}
    {% endif %}

    {% for page in startPage..endPage %}
        <li class="page-item {{ page == current ? 'active' : '' }}">
            <a class="page-link" href="{{ path('admin_bicycle_rentals', {'tab': 'rentals', 'page': page, 'perPage': app.request.query.get('perPage')}) }}">{{ page }}</a>
        </li>
    {% endfor %}

    {% if endPage < pageCount %}
        {% if endPage < pageCount - 1 %}
            <li class="page-item disabled">
                <span class="page-link">...</span>
            </li>
        {% endif %}
        <li class="page-item">
            <a class="page-link" href="{{ path('admin_bicycle_rentals', {'tab': 'rentals', 'page': pageCount, 'perPage': app.request.query.get('perPage')}) }}">{{ pageCount }}</a>
        </li>
    {% endif %}

    {# Next page link #}
    {% if next is defined %}
        <li class="page-item">
            <a class="page-link" href="{{ path('admin_bicycle_rentals', {'tab': 'rentals', 'page': next, 'perPage': app.request.query.get('perPage')}) }}" aria-label="Next">
                <i class="ti ti-chevron-right"></i>
            </a>
        </li>
    {% else %}
        <li class="page-item disabled">
            <span class="page-link"><i class="ti ti-chevron-right"></i></span>
        </li>
    {% endif %}

    {% if last is defined and current != last %}
        <li class="page-item">
            <a class="page-link" href="{{ path('admin_bicycle_rentals', {'tab': 'rentals', 'page': last, 'perPage': app.request.query.get('perPage')}) }}" aria-label="Last">
                <i class="ti ti-chevrons-right"></i>
            </a>
        </li>
    {% endif %}
</ul>
{% endif %}